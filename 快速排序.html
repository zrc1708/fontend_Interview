<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 挖坑法
        function quickSort(arr,begin=0,end=arr.length-1) {
            if(begin>=end){
                return
            }
            let base = arr[begin]
            let flag = 1
            let left = begin    //左指针
            let right = end     //右指针
            while (true) {
                if(left===right){
                    arr[left] = base
                    break
                }else if (flag%2===1) {
                    if(arr[right] < base){
                        arr[left] = arr[right]
                        left++
                        flag++
                    }else{
                        right--
                    }
                }else {
                    if(arr[left] > base){
                        arr[right] = arr[left]
                        right--
                        flag++
                    }else{
                        left++
                    }
                }
            }
            quickSort(arr,begin,left-1)
            quickSort(arr,left+1,end)
        }

        // 简单版
        function jsQuickSort(array) {
            if (array.length <= 1) {
                return array;
            }
            const pivotIndex = Math.floor(array.length / 2);
            const pivot = array.splice(pivotIndex, 1)[0];  //从数组中取出我们的"基准"元素
            const left = [], right = [];
            array.forEach(item => {
                if (item < pivot) {  //left 存放比 pivot 小的元素
                    left.push(item); 
                } else {  //right 存放大于或等于 pivot 的元素
                    right.push(item);
                }
            });
            //至此，我们将数组分成了left和right两个部分
            return jsQuickSort(left).concat(pivot, jsQuickSort(right));  //分而治之
        }


        let arr1 = [4,7,6,5,3,2,8,1]
        let arr2 = [3,3,3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]

        quickSort(arr1)
        console.log(arr1)
        quickSort(arr2)
        console.log(arr2)
    </script>
</body>

</html>